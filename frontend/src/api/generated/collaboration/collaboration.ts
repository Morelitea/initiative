/**
 * Generated by orval v8.4.0 üç∫
 * Do not edit manually.
 * Initiative API
 * OpenAPI spec version: 0.31.0
 */
import { useMutation, useQuery } from "@tanstack/react-query";
import type {
  DataTag,
  DefinedInitialDataOptions,
  DefinedUseQueryResult,
  MutationFunction,
  QueryClient,
  QueryFunction,
  QueryKey,
  UndefinedInitialDataOptions,
  UseMutationOptions,
  UseMutationResult,
  UseQueryOptions,
  UseQueryResult,
} from "@tanstack/react-query";

import type {
  GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet200Item,
  GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetHeaders,
  HTTPValidationError,
  SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostParams,
} from "../initiativeAPI.schemas";

import { apiMutator } from "../../mutator";
import type { ErrorType } from "../../mutator";

type SecondParameter<T extends (...args: never) => unknown> = Parameters<T>[1];

/**
 * Get the list of current collaborators on a document.
 * @summary Get Document Collaborators
 */
export type getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponse200 =
  {
    data: GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet200Item[];
    status: 200;
  };

export type getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponse422 =
  {
    data: HTTPValidationError;
    status: 422;
  };

export type getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponseSuccess =
  getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponse200 & {
    headers: Headers;
  };
export type getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponseError =
  getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponse422 & {
    headers: Headers;
  };

export type getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponse =
  | getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponseSuccess
  | getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponseError;

export const getGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetUrl = (
  documentId: number
) => {
  return `/api/v1/collaboration/documents/${documentId}/collaborators`;
};

export const getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet = async (
  documentId: number,
  headers?: GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetHeaders,
  options?: RequestInit
): Promise<getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponse> => {
  return apiMutator<getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetResponse>(
    getGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetUrl(documentId),
    {
      ...options,
      method: "GET",
      headers: { ...headers, ...options?.headers },
    }
  );
};

export const getGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetQueryKey =
  (documentId: number) => {
    return [`/api/v1/collaboration/documents/${documentId}/collaborators`] as const;
  };

export const getGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetQueryOptions =
  <
    TData = Awaited<
      ReturnType<
        typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
      >
    >,
    TError = ErrorType<HTTPValidationError>,
  >(
    documentId: number,
    headers?: GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetHeaders,
    options?: {
      query?: Partial<
        UseQueryOptions<
          Awaited<
            ReturnType<
              typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
            >
          >,
          TError,
          TData
        >
      >;
      request?: SecondParameter<typeof apiMutator>;
    }
  ) => {
    const { query: queryOptions, request: requestOptions } = options ?? {};

    const queryKey =
      queryOptions?.queryKey ??
      getGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetQueryKey(
        documentId
      );

    const queryFn: QueryFunction<
      Awaited<
        ReturnType<
          typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
        >
      >
    > = ({ signal }) =>
      getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet(
        documentId,
        headers,
        { signal, ...requestOptions }
      );

    return { queryKey, queryFn, enabled: !!documentId, ...queryOptions } as UseQueryOptions<
      Awaited<
        ReturnType<
          typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
        >
      >,
      TError,
      TData
    > & { queryKey: DataTag<QueryKey, TData, TError> };
  };

export type GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetQueryResult =
  NonNullable<
    Awaited<
      ReturnType<
        typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
      >
    >
  >;
export type GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetQueryError =
  ErrorType<HTTPValidationError>;

export function useGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet<
  TData = Awaited<
    ReturnType<typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet>
  >,
  TError = ErrorType<HTTPValidationError>,
>(
  documentId: number,
  headers:
    | undefined
    | GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetHeaders,
  options: {
    query: Partial<
      UseQueryOptions<
        Awaited<
          ReturnType<
            typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
          >
        >,
        TError,
        TData
      >
    > &
      Pick<
        DefinedInitialDataOptions<
          Awaited<
            ReturnType<
              typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
            >
          >,
          TError,
          Awaited<
            ReturnType<
              typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
            >
          >
        >,
        "initialData"
      >;
    request?: SecondParameter<typeof apiMutator>;
  },
  queryClient?: QueryClient
): DefinedUseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
export function useGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet<
  TData = Awaited<
    ReturnType<typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet>
  >,
  TError = ErrorType<HTTPValidationError>,
>(
  documentId: number,
  headers?: GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetHeaders,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<
          ReturnType<
            typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
          >
        >,
        TError,
        TData
      >
    > &
      Pick<
        UndefinedInitialDataOptions<
          Awaited<
            ReturnType<
              typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
            >
          >,
          TError,
          Awaited<
            ReturnType<
              typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
            >
          >
        >,
        "initialData"
      >;
    request?: SecondParameter<typeof apiMutator>;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
export function useGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet<
  TData = Awaited<
    ReturnType<typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet>
  >,
  TError = ErrorType<HTTPValidationError>,
>(
  documentId: number,
  headers?: GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetHeaders,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<
          ReturnType<
            typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
          >
        >,
        TError,
        TData
      >
    >;
    request?: SecondParameter<typeof apiMutator>;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };
/**
 * @summary Get Document Collaborators
 */

export function useGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet<
  TData = Awaited<
    ReturnType<typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet>
  >,
  TError = ErrorType<HTTPValidationError>,
>(
  documentId: number,
  headers?: GetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetHeaders,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<
          ReturnType<
            typeof getDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGet
          >
        >,
        TError,
        TData
      >
    >;
    request?: SecondParameter<typeof apiMutator>;
  },
  queryClient?: QueryClient
): UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> } {
  const queryOptions =
    getGetDocumentCollaboratorsApiV1CollaborationDocumentsDocumentIdCollaboratorsGetQueryOptions(
      documentId,
      headers,
      options
    );

  const query = useQuery(queryOptions, queryClient) as UseQueryResult<TData, TError> & {
    queryKey: DataTag<QueryKey, TData, TError>;
  };

  return { ...query, queryKey: queryOptions.queryKey };
}

/**
 * Sync Lexical content from the frontend to the database.

This endpoint is called via navigator.sendBeacon when the page unloads
to ensure the content column stays in sync with yjs_state.

The request body should contain the Lexical serialized state as JSON.
 * @summary Sync Document Content
 */
export type syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponse200 = {
  data: unknown;
  status: 200;
};

export type syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponse422 = {
  data: HTTPValidationError;
  status: 422;
};

export type syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponseSuccess =
  syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponse200 & {
    headers: Headers;
  };
export type syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponseError =
  syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponse422 & {
    headers: Headers;
  };

export type syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponse =
  | syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponseSuccess
  | syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponseError;

export const getSyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostUrl = (
  documentId: number,
  params: SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostParams
) => {
  const normalizedParams = new URLSearchParams();

  Object.entries(params || {}).forEach(([key, value]) => {
    if (value !== undefined) {
      normalizedParams.append(key, value === null ? "null" : value.toString());
    }
  });

  const stringifiedParams = normalizedParams.toString();

  return stringifiedParams.length > 0
    ? `/api/v1/collaboration/documents/${documentId}/sync-content?${stringifiedParams}`
    : `/api/v1/collaboration/documents/${documentId}/sync-content`;
};

export const syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost = async (
  documentId: number,
  params: SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostParams,
  options?: RequestInit
): Promise<syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponse> => {
  return apiMutator<syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostResponse>(
    getSyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostUrl(
      documentId,
      params
    ),
    {
      ...options,
      method: "POST",
    }
  );
};

export const getSyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostMutationOptions =
  <TError = ErrorType<HTTPValidationError>, TContext = unknown>(options?: {
    mutation?: UseMutationOptions<
      Awaited<
        ReturnType<typeof syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost>
      >,
      TError,
      {
        documentId: number;
        params: SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostParams;
      },
      TContext
    >;
    request?: SecondParameter<typeof apiMutator>;
  }): UseMutationOptions<
    Awaited<
      ReturnType<typeof syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost>
    >,
    TError,
    {
      documentId: number;
      params: SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostParams;
    },
    TContext
  > => {
    const mutationKey = ["syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost"];
    const { mutation: mutationOptions, request: requestOptions } = options
      ? options.mutation && "mutationKey" in options.mutation && options.mutation.mutationKey
        ? options
        : { ...options, mutation: { ...options.mutation, mutationKey } }
      : { mutation: { mutationKey }, request: undefined };

    const mutationFn: MutationFunction<
      Awaited<
        ReturnType<typeof syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost>
      >,
      {
        documentId: number;
        params: SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostParams;
      }
    > = (props) => {
      const { documentId, params } = props ?? {};

      return syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost(
        documentId,
        params,
        requestOptions
      );
    };

    return { mutationFn, ...mutationOptions };
  };

export type SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostMutationResult =
  NonNullable<
    Awaited<
      ReturnType<typeof syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost>
    >
  >;

export type SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostMutationError =
  ErrorType<HTTPValidationError>;

/**
 * @summary Sync Document Content
 */
export const useSyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost = <
  TError = ErrorType<HTTPValidationError>,
  TContext = unknown,
>(
  options?: {
    mutation?: UseMutationOptions<
      Awaited<
        ReturnType<typeof syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost>
      >,
      TError,
      {
        documentId: number;
        params: SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostParams;
      },
      TContext
    >;
    request?: SecondParameter<typeof apiMutator>;
  },
  queryClient?: QueryClient
): UseMutationResult<
  Awaited<
    ReturnType<typeof syncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPost>
  >,
  TError,
  {
    documentId: number;
    params: SyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostParams;
  },
  TContext
> => {
  return useMutation(
    getSyncDocumentContentApiV1CollaborationDocumentsDocumentIdSyncContentPostMutationOptions(
      options
    ),
    queryClient
  );
};
