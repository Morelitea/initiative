# FastAPI settings
PROJECT_NAME=Initiative API
API_V1_STR=/api/v1
SECRET_KEY=change-me
ACCESS_TOKEN_EXPIRE_MINUTES=1440
ALGORITHM=HS256

# Database
DATABASE_URL=postgresql+asyncpg://initiative:initiative@localhost:5432/initiative
# Non-superuser connection for RLS-enforced queries (optional, falls back to DATABASE_URL)
# DATABASE_URL_APP=postgresql+asyncpg://app_user:password@localhost:5432/initiative
# Admin database URL with BYPASSRLS role (for migrations and admin operations)
# DATABASE_URL_ADMIN=postgresql+asyncpg://app_admin:password@localhost:5432/initiative

# Row Level Security (RLS)
# Set to false to disable RLS context injection (useful for debugging)
ENABLE_RLS=true

# App URL (used to derive OIDC redirect URIs and links)
APP_URL=http://localhost:5173

# Guild creation
DISABLE_GUILD_CREATION=false

# Public registration (set to false to require invite codes for all new users)
ENABLE_PUBLIC_REGISTRATION=true

# Proxy settings (set true when behind nginx/load balancer)
BEHIND_PROXY=false
# Restrict which IPs are trusted to set proxy headers (default: * when BEHIND_PROXY=true)
# FORWARDED_ALLOW_IPS=127.0.0.1,172.16.0.0/12

# OIDC (optional)
OIDC_ENABLED=false
OIDC_ISSUER=https://accounts.example.com
OIDC_CLIENT_ID=your-client-id
OIDC_CLIENT_SECRET=your-client-secret
OIDC_PROVIDER_NAME=Example SSO
OIDC_SCOPES=openid,profile,email

# SMTP (optional)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_REJECT_UNAUTHORIZED=true
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_ADDRESS="Initiative <no-reply@example.com>"
SMTP_TEST_RECIPIENT=

# Push Notifications (Firebase Cloud Messaging) - Optional
# Required for mobile push notifications. See docs/FIREBASE_SETUP.md for complete setup guide.
# Note: Mobile app also requires google-services.json in frontend/android/app/
FCM_ENABLED=false
FCM_PROJECT_ID=
FCM_APPLICATION_ID=  # From google-services.json: client[0].client_info.mobilesdk_app_id
FCM_API_KEY=  # From Firebase Console → Project Settings → Web API Key
FCM_SENDER_ID=  # From google-services.json: project_info.project_number
FCM_SERVICE_ACCOUNT_JSON=  # Service account JSON from Firebase (private, minified, keep secure)

# Initial superuser
FIRST_SUPERUSER_EMAIL=admin@example.com
FIRST_SUPERUSER_PASSWORD=changeme
FIRST_SUPERUSER_FULL_NAME=Admin User
